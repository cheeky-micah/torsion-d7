define(["jquery","intentcontext"],function(n,t){"use strict";var o=function(){var t=this;t.$elm=n("#block-system-main-menu"),n("body").once("primaryMenu").each(function(){t.init()})};o.prototype.init=function(){var o=this;o.$elm.attr("intent",""),o.$elm.attr("in-xxlarge-prepend",".primary-menu .row .columns"),o.$elm.attr("in-xlarge-prepend",".primary-menu .row .columns"),o.$elm.attr("in-large-prepend",".primary-menu .row .columns"),o.$elm.attr("in-mediumportrait-append",".off-canvas"),o.$elm.attr("in-medium-append",".off-canvas"),o.$elm.attr("in-smallportrait-append",".off-canvas"),o.$elm.attr("in-small-append",".off-canvas");var e=function(){n("[data-dropdown-menu]").length>0&&n("[data-dropdown-menu]").foundation("destroy"),o.$elm.find("div > ul.menu").removeClass("dropdown").attr("data-drilldown","");new Foundation.Drilldown(n("[data-drilldown]"))},a=function(){n("[data-drilldown]").length>0&&(n("#offCanvas").foundation("close"),n("[data-drilldown]").foundation("destroy"),o.$elm.find("div > ul.menu").removeAttr("data-drilldown")),o.$elm.find("div > ul.menu").addClass("dropdown").attr("data-dropdown-menu","");new Foundation.DropdownMenu(n("[data-dropdown-menu]"))};t.intent.on("large",function(){a()}),t.intent.on("xlarge",function(){a()}),t.intent.on("xxlarge",function(){a()}),t.intent.on("mediumportrait",function(){e()}),t.intent.on("medium",function(){e()}),t.intent.on("smallportrait",function(){e()}),t.intent.on("small",function(){e()})},n(function(){new o})});